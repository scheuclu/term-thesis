%%
%% This is file `AMmath.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% AMmath.dtx  (with options: `package')
%% --------------------------------------------------------------------------------
%% AMmath <!AMreleaseVersion!> --- Package of the AMlatex-Bundle for mathematics
%% E-mail: romain.pennec@tum.de
%% Released under the LaTeX Project Public License v1.3c or later
%% See http://www.latex-project.org/lppl.txt
%% --------------------------------------------------------------------------------
%% 
\RequirePackage{AMgit}
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{AMmath}[\AMinsertGitDate{} \AMinsertGitVersion{} AM math]
\RequirePackage{ifthen}
\RequirePackage{kvoptions}
\RequirePackage{savesym}
\RequirePackage{amsopn}
\DeclareStringOption[bold]{vecstyle}
\DeclareStringOption[bold]{matstyle}
\DeclareDefaultOption*{\PassOptionsToPackage{\CurrentOption}{amsmath}}
\ProcessLocalKeyvalOptions*
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{mathtools}
\RequirePackage{siunitx}
\RequirePackage{nccmath}
\RequirePackage{empheq}
\RequirePackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{theorems}
\allowdisplaybreaks
\def\maketag@@@#1{\hbox{\m@th#1}}
\providecommand{\AM@math@box@color}{TUMIvory!55}

\newtcbox{\AMmathbox}[1][]{%
  nobeforeafter,math upper,tcbox raise base,
  enhanced,frame hidden,boxrule=1pt,colback=\AM@math@box@color,
  #1
}

\newcommand{\AMbluebox}[1]{%
    \colorlet{currentcolor}{.}%
    {\color{TUMBlue}%
    \fboxsep=1ex\fbox{\color{currentcolor}#1}}%
}
\empheqset{innerbox=\AMmathbox}
\newcommand*{\e}{\ensuremath{\mathalpha{\mathrm{e}}}}
\providecommand*{\dd}{%
  \@ifnextchar^{\@dd}{\@dd^{}}}
\def\@dd^#1{%
  \mathop{\mathrm{\mathstrut d}}%
  \nolimits^{#1}\dd@gobblespace}
\def\dd@gobblespace{%
  \futurelet\diffarg\dd@opspace}
\def\dd@opspace{%
  \let\dd@space\!%
  \ifx\diffarg(%)
    \let\dd@space\relax%
  \else%
    \ifx\diffarg[%]
      \let\dd@space\relax%
    \else%
      \ifx\diffarg\{%
        \let\dd@space\relax%
      \fi%
    \fi%
  \fi%
  \dd@space}
\DeclareMathOperator{\order}{O}

\newcommand*{\konstante}[1]{\ensuremath{\mathalpha{\mathrm{#1}}}}
\providecommand{\const}{\konstante{const.}}
\newcommand*{\hex}[1]{\mathalpha{\mathtt{#1}_\mathrm{H}}}
\newcommand*{\bin}[1]{\mathalpha{\mathtt{#1}_\mathrm{B}}}
\newcommand*{\dec}[1]{\mathalpha{\mathtt{#1}_\mathrm{D}}}
\newcommand*{\reg}[1]{\mathalpha{\mathsf{#1}}}
\newcommand*{\bnot}[1]{\mathalpha{\overline{\mbox{$#1$}}}}
\newcommand{\MR}{\ensuremath{\mathalpha{\mathbb{R}}}}
\newcommand{\MN}{\ensuremath{\mathalpha{\mathbb{N}}}}
\newcommand{\MZ}{\ensuremath{\mathalpha{\mathbb{Z}}}}
\newcommand{\MC}{\ensuremath{\mathalpha{\mathbb{C}}}}
\newcommand{\MQ}{\ensuremath{\mathalpha{\mathbb{Q}}}}
\newcommand{\Mone}{\ensuremath{\mathalpha{\mathbb{1}}}}
\providecommand{\eqhat}{\mathrel{\widehat{=}}}
\newcommand*{\eqexcl}{\stackrel{!}{=}}
\newcommand*{\eqdef}{\stackrel{\mathrm{def.}}{=}}
\newcommand{\defined}{\coloneqq}
\newcommand{\rdefined}{\eqqcolon}
\DeclareMathOperator{\real}{Re}
\DeclareMathOperator{\imag}{Im}
\DeclareMathOperator{\asin}{asin}
\DeclareMathOperator{\acos}{acos}
\DeclareMathOperator{\atan}{atan}
\DeclareMathOperator{\atanII}{atan2}
\DeclareMathOperator{\AtanII}{Atan2}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\sat}{sat}
\DeclareMathOperator{\co}{co}
\DeclareMathOperator{\cosabr}{c}
\DeclareMathOperator{\sinabr}{s}
\DeclareMathOperator{\dive}{div}
\let\sgn\relax
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator*{\prox}{prox}
\DeclareMathOperator*{\vprox}{\mathbf{prox}}
\newcommand*{\Abs}[1]{\mathinner{\left\vert#1\right\vert}}
\newcommand*{\abs}[1]{\mathinner{\vert#1\vert}}
\newcommand*{\Norm}[1]{\mathinner{\left\Vert#1\right\Vert}}
\newcommand*{\norm}[1]{\mathinner{\Vert#1\Vert}}
\DeclareMathOperator{\proj}{proj}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\let\div\undefined
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\div}{div}
\newcommand{\laplacian}{\Delta}
\newcommand{\eval}[1]{\left.#1\right\rvert}
\newcommand{\evalat}[1]{\left . #1 \right |}
\newcommand{\foeppl}[1]{\langle #1 \rangle}
\newcommand{\Frac}{%
  \@ifnextchar[%]
    {\Frac@i}
    {\Frac@ii}}
\newcommand{\Frac@i}{}
\def\Frac@i[#1]#2#3{%
  \genfrac{}{}{#1}{}{\displaystyle{#2}}{\displaystyle{#3}}}
\newcommand{\Frac@ii}[2]{\frac{\displaystyle{#1}}{\displaystyle{#2}}}
\newcommand{\diff@diffspace}{\,}
\newcommand{\diff@mathfrac}[2]{\frac{#1}{#2}}
\newcommand{\diff@mathFrac}[2]{\Frac{#1}{#2}}
\newcommand{\diff@textfrac}[2]{\bgroup #1\egroup\mkern-1mu/\mkern-1mu\bgroup #2\egroup}
\newcommand*{\diff@i}{}
\def\diff@i[#1]#2#3{\eval{\diff@ii{#2}{#3}}_{#1}}
\newcommand*{\diff@ii}[2]{%
  \begingroup
    \toks0={}\count0=0
    \diff@degree #2\diff@degree
    \diff@frac{\diff@diffop\ifnum\count0>1^{\the\count0}\fi\diff@diffspace#1}%
    {\the\toks0}%
  \endgroup}
\newcommand*{\diff@degree}[1]{%
  \ifx #1\diff@degree \expandafter\diff@stopd
  \else \expandafter\diff@addd \fi #1^1$#1\diff@addd}
\newcommand{\diff@stopd}{}
\def\diff@stopd #1\diff@addd{}
\newcommand*{\diff@addd}{}
\def\diff@addd #1^#2#3$#4\diff@addd{%
  \advance\count0 #2
  \toks0=\expandafter{\the\toks0%
    {\diff@diffop\diff@diffspace #4}%
    \diff@diffspace}\diff@degree}
\DeclareMathOperator{\dif}{d \!}
\DeclareMathOperator{\Dif}{D \!}
\newcommand{\pdiff}[3][]{\frac{\partial^{#1}\,\!#2}{\partial\,\!#3^{#1}}}
\newcommand{\tpdiff}[3][]{\tfrac{\partial^{#1}\,\!#2}{\partial\,\!#3^{#1}}}
\newcommand{\Ddiff}[3][]{\frac{D^{#1}\,\!#2}{D\,\!#3^{#1}}}
\newcommand{\diff}[3][]{\frac{\mathrm{d}^{#1}\,\!#2}{\mathrm{d}\,\!{#3}^{#1}}}
\newcommand{\tdiff}[3][]{\tfrac{\mathrm{d}^{#1}\,\!#2}{\mathrm{d}\,\!{#3}^{#1}}}
\newcommand{\Pdiff}{%
\global\let\diff@diffop\partial
\global\let\diff@frac\diff@mathFrac
\@ifnextchar[%]
{\diff@i}
{\diff@ii}}
\newcommand{\vdot}[1]{\vec{\dot{#1}}}
\newcommand{\vddot}[1]{\vec{\ddot{#1}}}
\let\origvec\vec
\let\vec\relax
\ifthenelse{\equal{\AMmath@vecstyle}{bold}}{% if BOLD
    \DeclareRobustCommand*\vec[1]{\ensuremath{\boldsymbol{#1}}}
  }{%
     \ifthenelse{\equal{\AMmath@vecstyle}{arrow}}{% if ARROW
       \DeclareRobustCommand*\vec[1]{\ensuremath{\overrightarrow{#1}}}
       }{%
         \ifthenelse{\equal{\AMmath@vecstyle}{underline}}{% if UNDELINE
           \DeclareRobustCommand*\vec[1]{\ensuremath{\underline{#1}}}
         }{}
     }
}

\ifthenelse{\equal{\AMmath@matstyle}{bold}}{% if BOLD
    \DeclareRobustCommand*\matr[1]{\ensuremath{\boldsymbol{#1}}}
  }{%
     \ifthenelse{\equal{\AMmath@matstyle}{blackboard}}{% if BLACKBOARD
       \DeclareRobustCommand*\matr[1]{\ensuremath{\mathbb{#1}}}
     }{}
}
\DeclareRobustCommand*\tens[1]{\ensuremath{\boldsymbol{#1}}}
\newcommand*{\mat}[1]{\begin{matrix}#1\end{matrix}}
\newcommand*{\pmat}[1]{\begin{pmatrix}#1\end{pmatrix}}
\newcommand*{\bmat}[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand*{\vmat}[1]{\begin{vmatrix}#1\end{vmatrix}}
\newcommand*{\Vmat}[1]{\begin{Vmatrix}#1\end{Vmatrix}}
\def\rmd{\:\!}
\let\bgroup={
\def\rot#1#2{{}_{#1}\vA_{#2}%
\@ifnextchar{_}{\rmd}{}%
\@ifnextchar{\bgroup}{\rmd}{}}

\def\dotrot#1#2{{}_{#1}\dot{\vA\mkern 6mu}\mkern-6mu_{#2}%
\@ifnextchar{_}{\rmd}{}%
\@ifnextchar{\bgroup}{\rmd}{}}
\def\rs#1{\@ifnextchar[%]
  {\@rs{#1}}{\@@rs{#1}}}
\def\@rs#1[#2]#3{\mathinner{%
    \setbox\@ne\hbox{$\displaystyle{\vphantom{#3}}#1{#3}\m@th$}%
    \setbox\tw@\hbox{$\displaystyle{#3}#2\m@th$}%
    \hskip\wd\@ne\hskip-\wd\tw@\mathord{\hskip\wd\tw@\hskip-\wd\@ne%
      {\vphantom{#3}}#1{#3}#2}}}
\def\@@rs#1#2{\mathinner{%
    \setbox\@ne\hbox{$\displaystyle{\vphantom{#2}}#1{#2}\m@th$}%
    \hskip\wd\@ne\mathord{\hskip-\wd\@ne%
      {\vphantom{#2}}#1{#2}}}}
\DeclareSymbolFont{bmaccents}{OT1}{cmr}{m}{n}
\DeclareMathAccent{\acute}{\mathord}{bmaccents}{"13}
\DeclareMathAccent{\bar}{\mathord}{bmaccents}{"16}
\DeclareMathAccent{\breve}{\mathord}{bmaccents}{"15}
\DeclareMathAccent{\check}{\mathord}{bmaccents}{"14}
\DeclareMathAccent{\dot}{\mathord}{bmaccents}{"5F}
\DeclareMathAccent{\ddot}{\mathord}{bmaccents}{"7F}
\DeclareMathAccent{\grave}{\mathord}{bmaccents}{"12}
\DeclareMathAccent{\hat}{\mathord}{bmaccents}{"5E}
\DeclareMathAccent{\tilde}{\mathord}{bmaccents}{"7E}
\newcommand\DeclareVecMathCommand[2]{%
  \protected@edef\@tempb{%
    \noexpand\DeclareRobustCommand{\csname #1\endcsname}{\vec{#2}}}%
  \@tempb}
\@tfor\AM@letter:=abcdefghijklmnopqrstuvwxyz%
  \do{\DeclareVecMathCommand{v\AM@letter}{\AM@letter}}
\@tfor\AM@letter:=ABCDEFGHIJKLMNOPQRSTUVWXYZ%
  \do{\DeclareVecMathCommand{v\AM@letter}{\AM@letter}}
\DeclareVecMathCommand{vnull}{0}
\DeclareVecMathCommand{vone}{1}
\DeclareVecMathCommand{valpha}{\alpha}
\DeclareVecMathCommand{vbeta}{\beta}
\DeclareVecMathCommand{vgamma}{\gamma}
\DeclareVecMathCommand{vdelta}{\delta}
\DeclareVecMathCommand{vvarepsilon}{\varepsilon}
\DeclareVecMathCommand{vepsilon}{\epsilon}
\DeclareVecMathCommand{vzeta}{\zeta}
\DeclareVecMathCommand{veta}{\eta}
\DeclareVecMathCommand{vtheta}{\theta}
\DeclareVecMathCommand{vvartheta}{\vartheta}
\DeclareVecMathCommand{viota}{\iota}
\DeclareVecMathCommand{vkappa}{\kappa}
\DeclareVecMathCommand{vlambda}{\lambda}
\DeclareVecMathCommand{vmu}{\mu}
\DeclareVecMathCommand{vnu}{\nu}
\DeclareVecMathCommand{vpi}{\pi}
\DeclareVecMathCommand{vxi}{\xi}
\DeclareVecMathCommand{vrho}{\rho}
\DeclareVecMathCommand{vvarrho}{\varrho}
\DeclareVecMathCommand{vsigma}{\sigma}
\DeclareVecMathCommand{vtau}{\tau}
\DeclareVecMathCommand{vupsilon}{\upsilon}
\DeclareVecMathCommand{vphi}{\phi}
\DeclareVecMathCommand{vvarphi}{\varphi}
\DeclareVecMathCommand{vchi}{\chi}
\DeclareVecMathCommand{vpsi}{\psi}
\DeclareVecMathCommand{vomega}{\omega}
\DeclareVecMathCommand{vGamma}{\Gamma}
\DeclareVecMathCommand{vDelta}{\Delta}
\DeclareVecMathCommand{vTheta}{\Theta}
\DeclareVecMathCommand{vLambda}{\Lambda}
\DeclareVecMathCommand{vXi}{\Xi}
\DeclareVecMathCommand{vPi}{\Pi}
\DeclareVecMathCommand{vSigma}{\Sigma}
\DeclareVecMathCommand{vUpsilon}{\Upsilon}
\DeclareVecMathCommand{vPhi}{\Phi}
\DeclareVecMathCommand{vPsi}{\Psi}
\DeclareVecMathCommand{vOmega}{\Omega}
\newcommand\DeclareMatrMathCommand[2]{%
  \protected@edef\@tempb{%
    \noexpand\DeclareRobustCommand{\csname #1\endcsname}{\matr{#2}}}%
  \@tempb}
\@tfor\AM@letter:=ABCDEFGHIJKLMNOPQRSTUVWXYZ%
  \do{\DeclareMatrMathCommand{m\AM@letter}{\AM@letter}}
\newcommand{\AMinlineTag}{\hfill\stepcounter{equation}(\theequation)}
%% 
%% Copyright (C) 2003-2010 by S. Lohmeier <lohmeier@amm.mw.tum.de>
%% Copyright (C) 2011-2013 by M. Schwienbacher <m.schwienbacher@tum.de>
%% Copyright (C) 2014 by K. Grundl <kilian.grundl@tum.de>
%% Copyright (C) 2015-2016 by R. Pennec <romain.pennec@tum.de>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License (LPPL), either
%% version 1.3c of this license or (at your option) any later
%% version.  The latest version of this license is in the file:
%% 
%% http://www.latex-project.org/lppl.txt
%% 
%% This work is "maintained" (as per LPPL maintenance status) by
%% Romain Pennec.
%% 
%% This work consists of the file  AMmath.dtx
%% and the derived files           AMmath.ins,
%%                                 AMmath.pdf and
%%                                 AMmath.sty.
%% 
%%
%% End of file `AMmath.sty'.
